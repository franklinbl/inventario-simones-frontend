<div class="container">
  <div class="header">
    <h2>Artículos Rentados</h2>
    <button class="primary-button" (click)="openModal()">
      Nuevo Renta
    </button>
  </div>
  <div class="table-responsive">
    <table class="table">
      <thead>
        <tr>
          <th>Cliente</th>
          <th>Fecha de Renta</th>
          <th>Fecha de Devolución</th>
          <th>Estado</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let rental of rentals">
          <tr (click)="toggleDetails(rental)">
            <td>{{ rental.customer_name }}</td>
            <td>{{ rental.start_date | date:'dd/MM/yyyy' }}</td>
            <td>{{ rental.end_date | date:'dd/MM/yyyy' }}</td>
            <td>
              <span class="status-badge">
                {{ rental.status | titlecase }}
              </span>
            </td>
          </tr>
          <tr class="details-row" *ngIf="rental.expanded">
            <td colspan="4">
              <div class="details-content">
                <h3>Productos Rentados</h3>
                <table class="details-table">
                  <thead>
                    <tr>
                      <th>Producto</th>
                      <th>Cantidad</th>
                      <th>Descripción</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let product of rental.products">
                      <td>{{ product.name }}</td>
                      <td>{{ product.available_quantity }}</td>
                      <td>{{ product.description }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>

<!-- Modal -->
<div class="modal-overlay" *ngIf="isModalOpen" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Nueva Renta</h3>
      <button class="close-button" (click)="closeModal()">&times;</button>
    </div>
    <div class="modal-body">
      <!-- Aquí irá el formulario -->
      <p>Contenido del modal próximamente...</p>
    </div>
  </div>
</div>