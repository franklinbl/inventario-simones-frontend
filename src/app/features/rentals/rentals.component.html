<div class="container">
  <h2>Artículos Rentados</h2>
  <div class="table-responsive">
    <table class="table">
      <thead>
        <tr>
          <th>Cliente</th>
          <!-- <th>Teléfono</th> -->
          <th>Fecha de Renta</th>
          <th>Fecha de Devolución</th>
          <th>Estado</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let rental of rentals">
          <tr (click)="toggleDetails(rental)">
            <td>{{ rental.customer_name }}</td>
            <!-- <td>{{ rental.client_phone }}</td> -->
            <td>{{ rental.start_date | date:'dd/MM/yyyy' }}</td>
            <td>{{ rental.end_date | date:'dd/MM/yyyy' }}</td>
            <td>
              <span class="status-badge">
                {{ rental.status | titlecase }}
              </span>
            </td>
          </tr>
          <tr class="details-row" *ngIf="rental.expanded">
            <td colspan="4">
              <div class="details-content">
                <h3>Productos Rentados</h3>
                <table class="details-table">
                  <thead>
                    <tr>
                      <th>Producto</th>
                      <th>Cantidad</th>
                      <th>Descripción</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let product of rental.products">
                      <td>{{ product.name }}</td>
                      <td>{{ product.available_quantity }}</td>
                      <td>{{ product.description }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>